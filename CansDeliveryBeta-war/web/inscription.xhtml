<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

    <body>

        <ui:composition template="./MyTemplate.xhtml">

            

            <ui:define name="content">
                <f:view>
                <h:form>
                    <center>
                        <fieldset>
                        <legend><h:outputLabel value="#{msg.CreateAccount}" for ="titleCreationLabel"></h:outputLabel></legend>
                            <table>
                                <tr>
                                    <td>
                                        <h:outputLabel value="#{msg.Name}" for="nameCreationLabel"></h:outputLabel>
                                    </td>
                                    <td>
                                        <h:inputText id="nameCreation" 
                                                     value="#{customerManager.customerToManage.name}">
                                            <f:validator validatorId="ValidatorString"></f:validator>                     
                                        </h:inputText>
                                    </td>
                                    <td>
                                        <h:message for="nameCreation"></h:message>
                                    </td>
                                </tr>

                                <tr>
                                    <td>
                                        <h:outputLabel value="#{msg.FirstName}" for="firstNameCreationLabel"></h:outputLabel>
                                    </td>
                                    <td>
                                        <h:inputText id="firstNameCreation" 
                                                     value="#{customerManager.customerToManage.firstname}">
                                            <f:validator validatorId="ValidatorString"></f:validator>                     
                                        </h:inputText>
                                    </td>
                                    <td>
                                        <h:message for="firstNameCreation"></h:message>
                                    </td>
                                </tr>

                                <tr>
                                    <td>
                                        <h:outputLabel value="#{msg.Login}" for="loginCreationLabel"></h:outputLabel>
                                    </td>
                                    <td>
                                        <h:inputText id="loginCreation" 
                                                     value="#{customerManager.customerToManage.login}">
                                            <f:validator validatorId="ValidatorLogin"></f:validator>                     
                                        </h:inputText>
                                    </td>
                                    <td>
                                        <h:message for="loginCreation"></h:message>
                                    </td>
                                </tr>

                                <tr>
                                    <td>
                                        <h:outputLabel value="#{msg.Password}" for="passwordCreationLabel"></h:outputLabel>
                                        </td>
                                        <td>
                                        <h:inputSecret id="passwordCreation"
                                                       value="#{customerManager.customerToManage.password}">     
                                            <f:validator validatorId="ValidatorPassword"></f:validator>   
                                            <f:validator validatorId="ValidatorPasswordSame"></f:validator>
                                            <f:attribute name="confirm" value="#{confirm}"></f:attribute>
                                        </h:inputSecret>
                                    </td>
                                    <td>
                                        <h:message for="passwordCreation"></h:message>
                                    </td>
                                </tr>

                                <tr>
                                    <td>
                                        <h:outputLabel value="#{msg.PasswordCheck}" for="passwordCheckLabel"></h:outputLabel>
                                    </td>
                                    <td>
                                        <h:inputSecret id="passwordCheck"  binding="#{confirm}">
                                        <f:validator validatorId="ValidatorPasswordSame"></f:validator>
                                        <f:attribute name="confirm" value="#{confirm}"></f:attribute>
                                        </h:inputSecret>
                                    </td>
                                    <td>
                                        <h:message for="passwordCheck"></h:message>
                                    </td>
                                </tr>

                                <tr>
                                    <td>
                                        <h:outputLabel value="#{msg.EmailAddress}" for="adresseMailCreationLabel"></h:outputLabel>
                                    </td>
                                    <td>
                                        <h:inputText id="adresseMailCreation" 
                                                     value="#{customerManager.customerToManage.email}">
                                            <f:validator validatorId="ValidatorEmail"></f:validator>
                                        </h:inputText>
                                    </td>
                                    <td>
                                        <h:message for="adresseMailCreation"></h:message>
                                    </td>
                                </tr>

                                <tr>
                                    <td>
                                        <h:outputLabel value="#{msg.MobileNumber}" for="TelephoneCreationLabel"></h:outputLabel>
                                    </td>
                                    <td>
                                        <h:inputText id="NumeroTelephoneCreation" 
                                                     value="#{customerManager.customerToManage.gsm}">
                                            <f:validator validatorId="ValidatorTelephone"></f:validator>
                                        </h:inputText>
                                    </td>
                                    <td>
                                        <h:message for="NumeroTelephoneCreation"></h:message>
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td>
                                        <h:outputLabel value="#{msg.BirthDate}" for="BirthDateCreationLabel"></h:outputLabel>
                                    </td>
                                    <td>
                                        <h:inputText id="BirthDateCreation" 
                                                     value="#{customerManager.birthdateString}">
                                        <f:validator validatorId="ValidatorDate"></f:validator>
                                        </h:inputText>
                                    </td>
                                    <td>
                                        <h:message for="BirthDateCreation"></h:message>
                                    </td>
                                </tr>

                                <tr>
                                    <td>
                                        <h:outputLabel value="#{msg.Number}" for="NumeroRueCreationLabel"></h:outputLabel>
                                    </td>
                                    <td>
                                        <h:inputText id="NumeroRueCreation" 
                                                     value="#{customerManager.customerToManage.number}">
                                            <f:validator validatorId="ValidatorNumeroRue"></f:validator>
                                        </h:inputText>
                                    </td>
                                    <td>
                                        <h:message for="NumeroRueCreation"></h:message>
                                    </td>
                                </tr>

                                <tr>
                                    <td>
                                        <h:outputLabel value="#{msg.Street}" for="NomRueCreationLabel"></h:outputLabel>
                                    </td>
                                    <td>
                                        <h:inputText id="NomRueCreation" 
                                                 value="#{customerManager.customerToManage.street}">
                                            <f:validator validatorId="ValidatorString"></f:validator>
                                        </h:inputText>
                                    </td>
                                    <td>
                                        <h:message for="NomRueCreation"></h:message>
                                    </td>
                                </tr>

                                <tr>
                                    <td>
                                        <h:outputLabel value="#{msg.PostalCode}" for="CodePostalCreationLabel"></h:outputLabel>
                                    </td>
                                    <td>
                                        <h:inputText id="CodePostalCreation" 
                                                 value="#{customerManager.postalCodeString}">
                                        <f:validator validatorId="ValidatorCodePostal"></f:validator>
                                        </h:inputText>
                                    </td>
                                    <td>
                                        <h:message for="CodePostalCreation"></h:message>
                                    </td>
                                </tr>

                                <tr>
                                    <td>
                                        <h:outputLabel value="#{msg.City}" for="LocaliteCreationLabel"></h:outputLabel>
                                    </td>
                                    <td>
                                        <h:inputText id="LocaliteCreation" 
                                                     value="#{customerManager.customerToManage.city}">
                                            <f:validator validatorId="ValidatorString"></f:validator>
                                        </h:inputText>
                                    </td>
                                    <td>
                                        <h:message for="LocaliteCreation"></h:message>
                                    </td>
                                </tr>
                            </table>    

                            <h:messages globalOnly="true" infoClass="info" />
                            <br></br>
                            <h:commandButton value="#{msg.CreateAccount}" action="#{customerManager.createAccount()}"></h:commandButton>

                        </fieldset>
                    </center>
                </h:form>
               </f:view>
            </ui:define>

            

        </ui:composition>

    </body>
</html>
